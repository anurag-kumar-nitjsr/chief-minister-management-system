<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Chief Minister Form</title>

    <!-- Bootstrap -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">

    <style>
        body {
            background-color: #f5f7fa;
        }
        .form-card {
            max-width: 650px;
            margin: auto;
        }
        .preview-img {
            width: 90px;
            height: 90px;
            object-fit: cover;
            border-radius: 50%;
            border: 2px solid #0d6efd;
        }
    </style>
</head>

<body>

<!-- NAVBAR -->
<nav class="navbar navbar-light bg-white shadow-sm">
    <div class="container">
        <a class="navbar-brand fw-bold" th:href="@{/cm}">
            CM Management System
        </a>
    </div>
</nav>

<!-- FORM -->
<section class="py-5">
    <div class="container">
        <div class="card shadow-sm form-card">
            <div class="card-body">

                <h4 class="mb-4 text-center fw-bold"
                    th:text="${cm.id == null ? 'Add Chief Minister' : 'Edit Chief Minister'}">
                </h4>

                <form th:action="@{/cm/save}"
                      th:object="${cm}"
                      method="post"
                      enctype="multipart/form-data">

                    <!-- Hidden ID (for edit) -->
                    <input type="hidden" name="id" th:value="${cm.id}">


                    <!-- Name -->
                    <div class="mb-3">
                        <label class="form-label">Name</label>
                        <input type="text"
                               th:field="*{name}"
                               class="form-control"
                               placeholder="Enter CM name"
                               required>
                    </div>


                        <!-- State -->
                        <div class="mb-3">
                            <label class="form-label">State</label>

                            <select class="form-select"
                                    th:field="*{state}"
                                    required>
                                <option value="">-- Select State --</option>

                                <option value="Andhra Pradesh">Andhra Pradesh</option>
                                <option value="Arunachal Pradesh">Arunachal Pradesh</option>
                                <option value="Assam">Assam</option>
                                <option value="Bihar">Bihar</option>
                                <option value="Chhattisgarh">Chhattisgarh</option>
                                <option value="Goa">Goa</option>
                                <option value="Gujarat">Gujarat</option>
                                <option value="Haryana">Haryana</option>
                                <option value="Himachal Pradesh">Himachal Pradesh</option>
                                <option value="Jharkhand">Jharkhand</option>
                                <option value="Karnataka">Karnataka</option>
                                <option value="Kerala">Kerala</option>
                                <option value="Madhya Pradesh">Madhya Pradesh</option>
                                <option value="Maharashtra">Maharashtra</option>
                                <option value="Meghalaya">Meghalaya</option>
                                <option value="Mizoram">Mizoram</option>
                                <option value="Nagaland">Nagaland</option>
                                <option value="Odisha">Odisha</option>
                                <option value="Punjab">Punjab</option>
                                <option value="Rajasthan">Rajasthan</option>
                                <option value="Sikkim">Sikkim</option>
                                <option value="Tamil Nadu">Tamil Nadu</option>
                                <option value="Telangana">Telangana</option>
                                <option value="Tripura">Tripura</option>
                                <option value="Uttar Pradesh">Uttar Pradesh</option>
                                <option value="Uttarakhand">Uttarakhand</option>
                                <option value="West Bengal">West Bengal</option>
                            </select>
                        </div>



                    <!-- Party -->
                    <div class="mb-3">
                        <label class="form-label">Party</label>
                        <input type="text"
                               th:field="*{party}"
                               class="form-control"
                               placeholder="Enter party name"
                               required>
                    </div>

                    <!-- Term Start -->
                    <div class="mb-3">
                        <label class="form-label">Term Start</label>
                        <input type="date"
                               th:field="*{termStart}"
                               class="form-control"
                               required>
                    </div>

                    <!-- Term End -->
                    <div class="mb-3">
                        <label class="form-label">Term End</label>
                        <input type="date"
                               th:field="*{termEnd}"
                               class="form-control">
                    </div>

                    <!-- Image Upload -->
                    <div class="mb-3">
                        <label class="form-label">Photo</label>
                        <input type="file"
                               name="imageFile"
                               class="form-control">
                    </div>

                    <!-- Existing Image (Edit Mode) -->
                    <div class="mb-3 text-center" th:if="${cm.imageUrl != null}">
                        <img th:src="@{/images/{img}(img=${cm.imageUrl})}"
                             class="preview-img"
                             alt="CM Image">
                    </div>

                    <!-- Buttons -->
                    <div class="d-flex justify-content-between">
                        <a th:href="@{/cm}" class="btn btn-secondary">
                            Back
                        </a>

                        <button type="submit" class="btn btn-primary">
                            Save
                        </button>
                    </div>

                </form>

            </div>
        </div>
    </div>
</section>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>




